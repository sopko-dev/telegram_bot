# üöÄ –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –Ω–∞ Fly.io

Fly.io - —Ü–µ —Å—É—á–∞—Å–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –¥–µ–ø–ª–æ—é –¥–æ–¥–∞—Ç–∫—ñ–≤. –í–æ–Ω–∞ –ø—Ä–æ–ø–æ–Ω—É—î –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω –∑ 3 shared-cpu VMs, —â–æ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è Telegram –±–æ—Ç–∞.

## üìã –©–æ —Ç–∞–∫–µ Fly.io?

- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω: 3 shared-cpu VMs
- ‚úÖ –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞ (CDN)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π HTTPS
- ‚úÖ –ü—Ä–æ—Å—Ç–∏–π CLI —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- ‚úÖ –î–æ–±—Ä–µ –ø—Ä–∞—Ü—é—î –∑ Rust

---

## üéØ –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Fly CLI

### –î–ª—è Linux:

```bash
curl -L https://fly.io/install.sh | sh
```

–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ–¥–∞–π—Ç–µ fly –¥–æ PATH (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ):
```bash
export FLYCTL_INSTALL="/home/konko/.fly"
export PATH="$FLYCTL_INSTALL/bin:$PATH"
```

–ê–±–æ –¥–æ–¥–∞–π—Ç–µ –¥–æ `~/.bashrc` –∞–±–æ `~/.zshrc`:
```bash
echo 'export FLYCTL_INSTALL="/home/konko/.fly"' >> ~/.bashrc
echo 'export PATH="$FLYCTL_INSTALL/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:

```bash
fly version
```

–Ø–∫—â–æ –±–∞—á–∏—Ç–µ –≤–µ—Ä—Å—ñ—é - –≤—Å–µ –¥–æ–±—Ä–µ! ‚úÖ

---

## üéØ –ö—Ä–æ–∫ 2: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ Fly.io

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ:** https://fly.io
2. **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å:** "Sign Up" –∞–±–æ "Get Started"
3. **–û–±–µ—Ä—ñ—Ç—å —Å–ø–æ—Å—ñ–± —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:**
   - –ß–µ—Ä–µ–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
   - –ß–µ—Ä–µ–∑ email

4. **–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å email** (—è–∫—â–æ —Ä–µ—î—Å—Ç—Ä—É–≤–∞–ª–∏—Å—è —á–µ—Ä–µ–∑ email)

5. **–î–æ–¥–∞–π—Ç–µ —Å–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏** (–¥–ª—è –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, –∞–ª–µ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω –Ω–µ —Å—Ç—è–≥—É—î –∫–æ—à—Ç–∏):
   - Fly.io –≤–∏–º–∞–≥–∞—î –∫–∞—Ä—Ç–∫—É –¥–ª—è –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
   - –ê–ª–µ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω –Ω–µ —Å—Ç—è–≥—É—î –∫–æ—à—Ç–∏
   - –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –∫–∞—Ä—Ç–∫—É –ø—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

---

## üéØ –ö—Ä–æ–∫ 3: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ CLI

–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```bash
fly auth login
```

–í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó. –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (—è–∫—â–æ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è):**
```bash
fly auth login --web
```

---

## üéØ –ö—Ä–æ–∫ 4: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç—É

–ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø—Ä–æ–µ–∫—Ç—É:

```bash
cd /home/konko/rust_bot
```

### –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `fly.toml`:

Fly.io –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –∞–ª–µ –º–∏ —Å—Ç–≤–æ—Ä–∏–º–æ –≤—Ä—É—á–Ω—É –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é:

```bash
fly launch --no-deploy
```

–¶—è –∫–æ–º–∞–Ω–¥–∞:
- –°—Ç–≤–æ—Ä–∏—Ç—å `fly.toml`
- –ó–∞–ø–∏—Ç–∞—î –Ω–∞–∑–≤—É –¥–æ–¥–∞—Ç–∫—É
- –ó–∞–ø–∏—Ç–∞—î —Ä–µ–≥—ñ–æ–Ω (–≤–∏–±–µ—Ä—ñ—Ç—å –Ω–∞–π–±–ª–∏–∂—á–∏–π, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `fra` –¥–ª—è –§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç–∞)

**–ê–ë–û —Å—Ç–≤–æ—Ä—ñ—Ç—å –≤—Ä—É—á–Ω—É:**

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `fly.toml` –∑ —Ç–∞–∫–∏–º –≤–º—ñ—Å—Ç–æ–º:

```toml
# fly.toml - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è Fly.io

app = "–≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞"  # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—É –Ω–∞–∑–≤—É (—Ç—ñ–ª—å–∫–∏ –º–∞–ª–µ–Ω—å–∫—ñ –ª—ñ—Ç–µ—Ä–∏, –¥–µ—Ñ—ñ—Å–∏)
primary_region = "fra"  # –†–µ–≥—ñ–æ–Ω: fra (–§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç), ams (–ê–º—Å—Ç–µ—Ä–¥–∞–º), lhr (–õ–æ–Ω–¥–æ–Ω), iad (–í—ñ—Ä–¥–∂–∏–Ω—ñ—è)

[build]
  # Fly.io –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç—å Rust –ø—Ä–æ–µ–∫—Ç

[env]
  # –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ fly secrets

# –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤—ñ—Å—É
# –î–ª—è Telegram –±–æ—Ç–∞ –Ω–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω HTTP –ø–æ—Ä—Ç, –∞–ª–µ Fly.io –≤–∏–º–∞–≥–∞—î –π–æ–≥–æ
[[services]]
  internal_port = 8080
  protocol = "tcp"
  
  [[services.ports]]
    port = 80
    handlers = ["http"]
    force_https = true
  
  [[services.ports]]
    port = 443
    handlers = ["tls", "http"]
```

**–í–∞–∂–ª–∏–≤–æ:** –ó–∞–º—ñ–Ω—ñ—Ç—å `–≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞` –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—É –Ω–∞–∑–≤—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `ukrainian-bot-cz` –∞–±–æ `my-telegram-bot-123`).

---

## üéØ –ö—Ä–æ–∫ 5: –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞

**–í–ê–ñ–õ–ò–í–û:** –ù—ñ–∫–æ–ª–∏ –Ω–µ –¥–æ–¥–∞–≤–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ `fly.toml`! –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ secrets:

```bash
fly secrets set TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_—Ç—É—Ç"
```

–ó–∞–º—ñ–Ω—ñ—Ç—å `–≤–∞—à_—Ç–æ–∫–µ–Ω_—Ç—É—Ç` –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π —Ç–æ–∫–µ–Ω –≤—ñ–¥ BotFather.

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
fly secrets list
```

–í–∏ –º–∞—î—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ `TELEGRAM_BOT_TOKEN` –≤ —Å–ø–∏—Å–∫—É.

---

## üéØ –ö—Ä–æ–∫ 6: –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è —Ç–∞ –¥–µ–ø–ª–æ–π

### –í–∞—Ä—ñ–∞–Ω—Ç –ê: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

Fly.io –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∫–æ–º–ø—ñ–ª—é—î –ø—Ä–æ–µ–∫—Ç:

```bash
fly deploy
```

–¶—è –∫–æ–º–∞–Ω–¥–∞:
1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å –∫–æ–¥ –Ω–∞ Fly.io
2. –°–∫–æ–º–ø—ñ–ª—é—î Rust –ø—Ä–æ–µ–∫—Ç
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
4. –ü–æ–∫–∞–∂–µ –ª–æ–≥–∏

### –í–∞—Ä—ñ–∞–Ω—Ç –ë: –õ–æ–∫–∞–ª—å–Ω–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—è (—à–≤–∏–¥—à–µ)

–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ —Å–∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è release –≤–µ—Ä—Å—ñ—ó
cargo build --release

# –î–µ–ø–ª–æ–π
fly deploy --local-only
```

---

## üéØ –ö—Ä–æ–∫ 7: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É:

```bash
fly status
```

### –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤:

```bash
fly logs
```

–ê–±–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ:
```bash
fly logs -a –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ Telegram:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Telegram
2. –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à–æ–≥–æ –±–æ—Ç–∞
3. –ù–∞–¥—ñ—à–ª—ñ—Ç—å `/start`
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `fly logs`

---

## üéØ –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ Fly.io

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–º:

```bash
# –°—Ç–∞—Ç—É—Å –¥–æ–¥–∞—Ç–∫—É
fly status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
fly apps restart –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞

# –ó—É–ø–∏–Ω–∫–∞
fly apps suspend –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞

# –ü—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏
fly apps resume –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞

# –í–∏–¥–∞–ª–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É
fly apps destroy –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞
```

### –†–æ–±–æ—Ç–∞ –∑ secrets:

```bash
# –î–æ–¥–∞—Ç–∏ secret
fly secrets set KEY="value"

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ secrets
fly secrets list

# –í–∏–¥–∞–ª–∏—Ç–∏ secret
fly secrets unset KEY

# –î–æ–¥–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ secrets –æ–¥–Ω–æ—á–∞—Å–Ω–æ
fly secrets set KEY1="value1" KEY2="value2"
```

### –õ–æ–≥–∏:

```bash
# –í—Å—ñ –ª–æ–≥–∏
fly logs

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É
fly logs -a –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
fly logs -a –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞ --follow

# –û—Å—Ç–∞–Ω–Ω—ñ 100 —Ä—è–¥–∫—ñ–≤
fly logs -a –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞ --limit 100
```

### SSH –¥–æ—Å—Ç—É–ø (–¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏):

```bash
# –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
fly ssh console -a –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞

# –í–∏–∫–æ–Ω–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É
fly ssh console -a –≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞ -C "ls -la"
```

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è Telegram –±–æ—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞: Telegram –±–æ—Ç –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î HTTP –ø–æ—Ä—Ç

Telegram –±–æ—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å —á–µ—Ä–µ–∑ long polling –∞–±–æ webhook, –∞–ª–µ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ø—É–±–ª—ñ—á–Ω–æ–≥–æ HTTP –ø–æ—Ä—Ç—É. Fly.io –≤–∏–º–∞–≥–∞—î HTTP –ø–æ—Ä—Ç –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤—ñ—Å—ñ–≤, —Ç–æ–º—É –º–∏ –º–æ–∂–µ–º–æ:

**–í–∞—Ä—ñ–∞–Ω—Ç 1: –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π HTTP —Å–µ—Ä–≤–µ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)**

–î–æ–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–∏–π HTTP —Å–µ—Ä–≤–µ—Ä, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ health check:

–û–Ω–æ–≤—ñ—Ç—å `src/main.rs` (–¥–æ–¥–∞–π—Ç–µ –≤ –∫—ñ–Ω–µ—Ü—å —Ñ—É–Ω–∫—Ü—ñ—ó `main`):

```rust
// –î–æ–¥–∞–π—Ç–µ –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Cargo.toml:
// tokio = { version = "1", features = ["rt-multi-thread", "macros", "net"] }
// axum = "0.7"

// –í main.rs –¥–æ–¥–∞–π—Ç–µ:
use std::net::SocketAddr;

// –í main() –¥–æ–¥–∞–π—Ç–µ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è bot:
let bot_clone = bot.clone();
tokio::spawn(async move {
    let app = axum::Router::new()
        .route("/health", axum::routing::get(|| async { "OK" }));
    let addr = SocketAddr::from(([0, 0, 0, 0], 8080));
    axum::Server::bind(&addr)
        .serve(app.into_make_service())
        .await
        .unwrap();
});

// –ü–æ—Ç—ñ–º –∑–∞–ø—É—Å–∫–∞–π—Ç–µ dispatcher —è–∫ –∑–∞–∑–≤–∏—á–∞–π
```

**–í–∞—Ä—ñ–∞–Ω—Ç 2: –ü—Ä–æ—Å—Ç—ñ—à–µ - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ fly.toml –±–µ–∑ HTTP**

–û–Ω–æ–≤—ñ—Ç—å `fly.toml`:

```toml
app = "–≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞"
primary_region = "fra"

[build]

[env]

# –î–ª—è Telegram –±–æ—Ç–∞ –Ω–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω HTTP –ø–æ—Ä—Ç
# –ê–ª–µ Fly.io –≤–∏–º–∞–≥–∞—î –π–æ–≥–æ, —Ç–æ–º—É —Å—Ç–≤–æ—Ä–∏–º–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π
[[services]]
  internal_port = 8080
  protocol = "tcp"
  
  # –ü—Ä–æ—Å—Ç–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –ø–æ—Ä—Ç, –∞–ª–µ –Ω–µ –æ–±—Ä–æ–±–ª—è—î–º–æ HTTP
  [[services.ports]]
    port = 80
```

**–í–∞—Ä—ñ–∞–Ω—Ç 3: –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –ø—Ä–æ—Ü–µ—Å –±–µ–∑ HTTP**

Fly.io –ø—ñ–¥—Ç—Ä–∏–º—É—î –ø—Ä–æ—Ü–µ—Å–∏ –±–µ–∑ HTTP. –û–Ω–æ–≤—ñ—Ç—å `fly.toml`:

```toml
app = "–≤–∞—à-–±–æ—Ç-–Ω–∞–∑–≤–∞"
primary_region = "fra"

[build]

[env]

# –ü—Ä–æ—Ü–µ—Å –±–µ–∑ HTTP (–¥–ª—è –±–æ—Ç—ñ–≤)
[processes]
  bot = "./target/release/telegram_bot"
```

---

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –º–µ—Ç—Ä–∏–∫–∏

### –ü–µ—Ä–µ–≥–ª—è–¥ –º–µ—Ç—Ä–∏–∫:

```bash
# –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ–¥–∞—Ç–∫—É
fly metrics

# –ú–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
fly metrics --watch
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–ª–µ—Ä—Ç—ñ–≤:

Fly.io –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω—ñ –∞–ª–µ—Ä—Ç–∏. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Dashboard –Ω–∞ fly.io –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.

---

## üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å

### –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω:

- ‚úÖ 3 shared-cpu VMs
- ‚úÖ 3GB RAM
- ‚úÖ 160GB –≤–∏—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –Ω–∞–∑–∞–≤–∂–¥–∏

### –ü–ª–∞—Ç–Ω–æ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—ñ–ª—å—à–µ):

- $1.94/–º—ñ—Å—è—Ü—å –∑–∞ 1GB RAM
- $0.0000002/GB –∑–∞ —Ç—Ä–∞—Ñ—ñ–∫ –ø—ñ—Å–ª—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ª—ñ–º—ñ—Ç—É

**–î–ª—è Telegram –±–æ—Ç–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω—É –±—ñ–ª—å—à –Ω—ñ–∂ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ!**

---

## üêõ –†–æ–∑–≤'—è–∑–∞–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "app not found"

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–∑–≤—É –¥–æ–¥–∞—Ç–∫—É
fly apps list

# –ê–±–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π
fly launch
```

### –ü—Ä–æ–±–ª–µ–º–∞: "authentication required"

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
fly auth login
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
1. –õ–æ–≥–∏: `fly logs`
2. Secrets: `fly secrets list`
3. –°—Ç–∞—Ç—É—Å: `fly status`

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è –Ω–µ –≤–¥–∞—î—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –°–ø—Ä–æ–±—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É –∫–æ–º–ø—ñ–ª—è—Ü—ñ—é
cargo build --release

# –ü–æ—Ç—ñ–º –¥–µ–ø–ª–æ–π
fly deploy --local-only
```

### –ü—Ä–æ–±–ª–µ–º–∞: "No space left on device"

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –û—á–∏—Å—Ç—ñ—Ç—å —Å—Ç–∞—Ä—É –≤–µ—Ä—Å—ñ—é
fly releases list
fly releases destroy <version>
```

---

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –±–æ—Ç–∞

–ö–æ–ª–∏ –≤–∏ –∑–º—ñ–Ω–∏–ª–∏ –∫–æ–¥:

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–Ω–æ–≤—É –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ
fly deploy
```

Fly.io –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
1. –ó–±–µ—Ä–µ–∂–µ —Å—Ç–∞—Ä—É –≤–µ—Ä—Å—ñ—é
2. –°–∫–æ–º–ø—ñ–ª—é—î –Ω–æ–≤—É
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é
4. –ó—É–ø–∏–Ω–∏—Ç—å —Å—Ç–∞—Ä—É

–Ø–∫—â–æ —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫, –º–æ–∂–Ω–∞ –≤—ñ–¥–∫–æ—Ç–∏—Ç–∏—Å—è:
```bash
fly releases list
fly releases rollback <version>
```

---

## üìù –ü–æ–≤–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ fly.toml

```toml
# fly.toml –¥–ª—è Telegram –±–æ—Ç–∞
app = "ukrainian-bot-cz"
primary_region = "fra"

[build]
  # Fly.io –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç—å Rust

[env]
  # Secrets –¥–æ–¥–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ fly secrets set

# –ü—Ä–æ—Ü–µ—Å –¥–ª—è –±–æ—Ç–∞ (–±–µ–∑ HTTP)
[processes]
  bot = "./target/release/telegram_bot"

# –ê–±–æ —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω HTTP –¥–ª—è health check
[[services]]
  internal_port = 8080
  protocol = "tcp"
  
  [[services.ports]]
    port = 80
    handlers = ["http"]
    force_https = true
```

---

## üéØ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (–ø—ñ–¥—Å—É–º–æ–∫)

```bash
# 1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Fly CLI
curl -L https://fly.io/install.sh | sh

# 2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—è
fly auth login

# 3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –ø—Ä–æ–µ–∫—Ç—É
cd /home/konko/rust_bot

# 4. –°—Ç–≤–æ—Ä—ñ—Ç—å fly.toml (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ fly launch)
# –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª fly.toml –∑ –≤–º—ñ—Å—Ç–æ–º –≤–∏—â–µ

# 5. –î–æ–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω
fly secrets set TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_—Ç—É—Ç"

# 6. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ
fly deploy

# 7. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏
fly logs
```

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- –û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: https://fly.io/docs/
- Rust –Ω–∞ Fly.io: https://fly.io/docs/languages-and-frameworks/rust/
- CLI –∫–æ–º–∞–Ω–¥–∏: https://fly.io/docs/flyctl/

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

1. ‚úÖ `fly status` - –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–ø—É—â–µ–Ω–∏–π
2. ‚úÖ `fly logs` - –Ω–µ–º–∞—î –ø–æ–º–∏–ª–æ–∫
3. ‚úÖ Telegram –±–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ `/start`
4. ‚úÖ –ë–æ—Ç –ø—Ä–∞—Ü—é—î –ø–æ—Å—Ç—ñ–π–Ω–æ (–Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è —Ç–µ—Ä–º—ñ–Ω–∞–ª—É)

---

**–ì–æ—Ç–æ–≤–æ! –í–∞—à –±–æ—Ç —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î –Ω–∞ Fly.io –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ! üéâ**

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `fly logs`
