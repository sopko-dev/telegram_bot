# üì¢ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: –Ø–∫ –∑—Ä–æ–±–∏—Ç–∏, —â–æ–± –±–æ—Ç –ø—Ä–∞—Ü—é–≤–∞–≤ –≤ –∫–∞–Ω–∞–ª—ñ

## ‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û: –ë–æ—Ç —Ç–µ–ø–µ—Ä –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫–∞–Ω–∞–ª–∏!

–ö–æ–¥ –±—É–ª–æ –æ–Ω–æ–≤–ª–µ–Ω–æ, —â–æ–± –±–æ—Ç –º—ñ–≥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –∫–æ–º–∞–Ω–¥–∏ **—ñ –≤ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —á–∞—Ç–∞—Ö, —ñ –≤ –∫–∞–Ω–∞–ª–∞—Ö**.

---

## üìã –ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –±–æ—Ç —î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª—É

**–¶–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ!** –ë–µ–∑ —Ü—å–æ–≥–æ –±–æ—Ç –Ω–µ –∑–º–æ–∂–µ –±–∞—á–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫–∞–Ω–∞–ª—ñ.

### –Ø–∫ –¥–æ–¥–∞—Ç–∏ –±–æ—Ç–∞ —è–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à Telegram –∫–∞–Ω–∞–ª
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –Ω–∞–∑–≤—É –∫–∞–Ω–∞–ª—É (–≤–≥–æ—Ä—ñ)
3. –û–±–µ—Ä—ñ—Ç—å **"–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏"** (Administrators)
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"–î–æ–¥–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞"** (Add Administrator)
5. –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à–æ–≥–æ –±–æ—Ç–∞ –≤ —Å–ø–∏—Å–∫—É (–≤–≤–µ–¥—ñ—Ç—å username –±–æ—Ç–∞)
6. **–í–ê–ñ–õ–ò–í–û:** –ù–∞–¥–∞–π—Ç–µ –±–æ—Ç—É –ø—Ä–∞–≤–∞:
   - ‚úÖ **–ü—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** (Post messages)
   - ‚úÖ **–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** (Edit messages) - –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
   - ‚úÖ **–í–∏–¥–∞–ª—è—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** (Delete messages) - –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"–ó–±–µ—Ä–µ–≥—Ç–∏"** (Save)

---

## üìã –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞

–ü—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞:

1. –ó—É–ø–∏–Ω—ñ—Ç—å –±–æ—Ç–∞ (—è–∫—â–æ –≤—ñ–Ω –∑–∞–ø—É—â–µ–Ω–∏–π):
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `Ctrl+C` –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
2. –ü–µ—Ä–µ–∫–æ–º–ø—ñ–ª—é–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```bash
   cd /home/konko/rust_bot
   cargo build
   ```
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞ –∑–Ω–æ–≤—É:
   ```bash
   export TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"
   cargo run
   ```

---

## üìã –ö—Ä–æ–∫ 3: –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª—ñ

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à Telegram –∫–∞–Ω–∞–ª
2. –ù–∞–¥—ñ—à–ª—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É `/start` –≤ –∫–∞–Ω–∞–ª
3. –ë–æ—Ç –º–∞—î –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏!

### –î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –≤ –∫–∞–Ω–∞–ª—ñ:
- `/start` - –ø–æ—á–∞—Ç–∏ —Ä–æ–±–æ—Ç—É –∑ –±–æ—Ç–æ–º
- `/help` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ–ø–æ–º–æ–≥—É
- `/info` - —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–∞–Ω–∞–ª

---

## üîç –©–æ –∑–º—ñ–Ω–∏–ª–æ—Å—è –≤ –∫–æ–¥—ñ?

### –†–∞–Ω—ñ—à–µ (–Ω–µ –ø—Ä–∞—Ü—é–≤–∞–ª–æ –≤ –∫–∞–Ω–∞–ª–∞—Ö):
```rust
Update::filter_message().endpoint(handle_message)
```
–¶–µ –æ–±—Ä–æ–±–ª—è–ª–æ —Ç—ñ–ª—å–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —á–∞—Ç—ñ–≤ —Ç–∞ –≥—Ä—É–ø.

### –¢–µ–ø–µ—Ä (–ø—Ä–∞—Ü—é—î –≤ –∫–∞–Ω–∞–ª–∞—Ö):
```rust
dptree::entry()
    .branch(Update::filter_message().endpoint(handle_message))
    .branch(Update::filter_channel_post().endpoint(handle_message))
```
–¶–µ –æ–±—Ä–æ–±–ª—è—î **—ñ** –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —á–∞—Ç—ñ–≤, **—ñ** –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–∞–Ω–∞–ª—ñ–≤!

---

## ‚ùì –ß–∞—Å—Ç—ñ –ø—Ä–æ–±–ª–µ–º–∏

### –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤ –∫–∞–Ω–∞–ª—ñ

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
1. ‚úÖ –ë–æ—Ç –¥–æ–¥–∞–Ω–∏–π —è–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –∫–∞–Ω–∞–ª—É?
2. ‚úÖ –ë–æ—Ç –º–∞—î –ø—Ä–∞–≤–∞ –Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å?
3. ‚úÖ –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∏–π –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É?
4. ‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω–∏–π —ñ –ø—Ä–∞—Ü—é—î? (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª)

### –ë–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —á–∞—Ç–∞—Ö, –∞–ª–µ –Ω–µ –≤ –∫–∞–Ω–∞–ª—ñ

**–ü—Ä–∏—á–∏–Ω–∞:** –ë–æ—Ç –Ω–µ —î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª—É –∞–±–æ –Ω–µ –º–∞—î –ø—Ä–∞–≤.

**–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞–π—Ç–µ –±–æ—Ç–∞ —è–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∑ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é (–¥–∏–≤. –ö—Ä–æ–∫ 1).

### –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó

**–Ø–∫—â–æ –±–∞—á–∏—Ç–µ –ø–æ–º–∏–ª–∫—É –ø—Ä–æ `dptree`:**
```bash
cd /home/konko/rust_bot
cargo build
```
–Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –æ—Å—Ç–∞–Ω–Ω—é –≤–µ—Ä—Å—ñ—é –∫–æ–¥—É.

---

## üí° –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

### –ß–æ–º—É –±–æ—Ç –Ω–µ –±–∞—á–∏–≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫–∞–Ω–∞–ª—ñ —Ä–∞–Ω—ñ—à–µ?

–£ Telegram —î –¥–≤–∞ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:
- **`message`** - –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —á–∞—Ç—ñ–≤ —Ç–∞ –≥—Ä—É–ø
- **`channel_post`** - –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–∞–Ω–∞–ª—ñ–≤

–°—Ç–∞—Ä–∏–π –∫–æ–¥ –æ–±—Ä–æ–±–ª—è–≤ —Ç—ñ–ª—å–∫–∏ `message`, —Ç–æ–º—É –±–æ—Ç –Ω–µ –±–∞—á–∏–≤ –∫–æ–º–∞–Ω–¥–∏ –≤ –∫–∞–Ω–∞–ª–∞—Ö.

### –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î —Ç–µ–ø–µ—Ä?

–ù–æ–≤–∏–π –∫–æ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `dptree` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è "–¥–µ—Ä–µ–≤–∞ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤":
- –û–¥–Ω–∞ –≥—ñ–ª–∫–∞ –æ–±—Ä–æ–±–ª—è—î `message` (—á–∞—Ç–∏ —Ç–∞ –≥—Ä—É–ø–∏)
- –Ü–Ω—à–∞ –≥—ñ–ª–∫–∞ –æ–±—Ä–æ–±–ª—è—î `channel_post` (–∫–∞–Ω–∞–ª–∏)
- –û–±–∏–¥–≤—ñ –≥—ñ–ª–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ç—É —Å–∞–º—É —Ñ—É–Ω–∫—Ü—ñ—é `handle_message`

---

**–¢–µ–ø–µ—Ä –≤–∞—à –±–æ—Ç –ø—Ä–∞—Ü—é—î —ñ –≤ —á–∞—Ç–∞—Ö, —ñ –≤ –∫–∞–Ω–∞–ª–∞—Ö! üéâ**
